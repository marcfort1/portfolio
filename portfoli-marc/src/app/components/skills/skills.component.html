<section id="skills" class="skills-section">
  <div class="skills-container">
    <h2 class="section-title">{{ "skills.title" | translate }}</h2>

    <div *ngFor="let category of categories" class="category-block">
      <h3 class="category-title">{{ category }}</h3>

      <div class="skills-grid">
        <!-- iteramos todos y renderizamos sólo los que pertenecen a la categoría -->
        <ng-container *ngFor="let skill of skills; let i = index">
          <div
            *ngIf="skill.category === category"
            class="skill-card"
            #skillCard
            attr.data-key="{{ skill.key }}">
            
            <div class="skill-header">
              <img [src]="skill.image" [alt]="skill.name" class="skill-img" />
              <h4 class="skill-title">{{ skill.name }}</h4>
            </div>

            <div class="progress-container">
              <div
                class="progress-bar"
                [style.width.%]="skill.animatedLevel || 0">
              </div>
            </div>

            <p class="skill-percent">{{ skill.animatedLevel || 0 }}%</p>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</section>
